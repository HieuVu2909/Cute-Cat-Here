<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>M√®o 3D h·ªèi b·∫°n üê±</title>

<style>
body {
  margin: 0;
  background: #ffeef2;
  overflow: hidden;
  font-family: Arial;
}

#chatBox {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  background: white;
  padding: 20px;
  border-radius: 20px;
  width: 300px;
  text-align: center;
}

input {
  width: 90%;
  padding: 8px;
  margin-top: 10px;
  border-radius: 10px;
  border: 1px solid #ccc;
}

button {
  margin-top: 10px;
  padding: 8px 20px;
  border-radius: 10px;
  border: none;
  background: pink;
  cursor: pointer;
}
</style>
</head>

<body>

<div id="chatBox">
  <div id="question"></div>
  <input type="text" id="answer" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi...">
  <br>
  <button onclick="nextQuestion()">Next üêæ</button>
</div>

<form id="hiddenForm" action="https://formspree.io/f/xdalbnjd" method="POST" style="display:none;">
  <input type="hidden" name="Cau_1" id="q1">
  <input type="hidden" name="Cau_2" id="q2">
  <input type="hidden" name="Cau_3" id="q3">
  <input type="hidden" name="Cau_4" id="q4">
</form>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/loaders/GLTFLoader.js"></script>

<script>
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({ alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

const light = new THREE.HemisphereLight(0xffffff, 0x444444);
scene.add(light);

camera.position.z = 3;

let cat;

const loader = new THREE.GLTFLoader();
loader.load(
  'https://modelviewer.dev/shared-assets/models/Astronaut.glb',
  function (gltf) {
    cat = gltf.scene;
    scene.add(cat);
  }
);

function animate() {
  requestAnimationFrame(animate);
  if (cat) {
    cat.rotation.y += 0.01; // xoay nh·∫π nh∆∞ ƒëang giao ti·∫øp
  }
  renderer.render(scene, camera);
}
animate();

const questions = [
  "Ch√†o b·∫°n üò∫ B·∫°n t√™n g√¨?",
  "H√¥m nay b·∫°n vui kh√¥ng?",
  "B·∫°n c√≥ th√≠ch m√®o kh√¥ng?",
  "B·∫°n mu·ªën n√≥i g√¨ v·ªõi m√¨nh?"
];

let current = 0;
let answers = [];

document.getElementById("question").innerText = questions[current];

function nextQuestion() {
  const input = document.getElementById("answer").value;
  if (!input) return alert("Tr·∫£ l·ªùi m√¨nh ƒëi n√® üòø");

  answers.push(input);
  document.getElementById("answer").value = "";
  current++;

  if (current < questions.length) {
    document.getElementById("question").innerText = questions[current];
  } else {
    document.getElementById("q1").value = answers[0];
    document.getElementById("q2").value = answers[1];
    document.getElementById("q3").value = answers[2];
    document.getElementById("q4").value = answers[3];
    document.getElementById("hiddenForm").submit();
  }
}
</script>

</body>
</html>